{"version":3,"sources":["webpack:///./src/hooks/index.js","webpack:///./src/components/homepage/parts/HomepageWaypoint.js","webpack:///./src/components/homepage/Intro.js","webpack:///./src/components/homepage/About.js","webpack:///./src/components/homepage/parts/VideoClip.js","webpack:///./src/components/homepage/parts/ImageClip.js","webpack:///./src/components/homepage/parts/ShowCard.js","webpack:///./src/components/homepage/Shows.js","webpack:///./src/components/homepage/Demos.js","webpack:///./src/components/homepage/Talks.js","webpack:///./src/pages/index.js"],"names":["useIntersect","root","rootMargin","threshold","useState","entry","updateEntry","node","setNode","observer","useRef","useEffect","current","disconnect","window","IntersectionObserver","currentObserver","observe","HomepageWaypoint","zone","children","dispatch","useDispatch","windowSize","isClient","getSize","width","innerWidth","undefined","height","innerHeight","setWindowSize","handleResize","addEventListener","removeEventListener","useWindowSize","ref","setThreshold","useMemo","elHeight","offsetHeight","viewHeight","hasEntered","setHasEntered","target","console","log","isIntersecting","enterZone","exitZone","Intro","className","id","About","query","render","data","fluid","file","childImageSharp","href","VideoClip","clip","muted","isPlaying","onEnded","src","videoEl","play","pause","currentTime","crossOrigin","preload","playsInline","ImageClip","image","CLIP_TYPES","video","ShowCard","show","clips","title","company","description","url","isMuted","useSelector","state","currentClipIndex","setCurrentClipIndex","changeCurrentClipIndex","newClipIndex","stopVideo","playVideo","hasVideos","reduce","acc","type","ClipComponents","map","i","ClipComponent","key","length","onClick","setMute","paragraph","dangerouslySetInnerHTML","__html","Shows","allShowsYaml","nodes","Demos","allDemosYaml","demo","Talks","allTalksYaml","talk","Index","props","isLoaded","loadingProgress","transitions","useTransition","from","opacity","enter","leave","config","molasses","transitionComponent","Swoop","item","div","style"],"mappings":"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","file":"component---src-pages-index-js-ab2f20a99e8e29d82e98.js","sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\n// Hook\nexport function useWindowSize() {\n  const isClient = typeof window === 'object';\n\n  function getSize() {\n    return {\n      width: isClient ? window.innerWidth : undefined,\n      height: isClient ? window.innerHeight : undefined\n    };\n  }\n\n  const [windowSize, setWindowSize] = useState(getSize);\n\n  useEffect(() => {\n    if (!isClient) {\n      return false;\n    }\n    \n    function handleResize() {\n      setWindowSize(getSize());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []); // Empty array ensures that effect is only run on mount and unmount\n\n  return windowSize;\n}\n\nexport function useIntersect ({ root = null, rootMargin, threshold = [0] }) {\n  const [entry, updateEntry] = useState({});\n  const [node, setNode] = useState(null);\n\n  const observer = useRef(null);\n\n  useEffect(\n    () => {\n      if(observer.current) {\n        observer.current.disconnect();\n      }\n      observer.current = new window.IntersectionObserver(([entry]) => updateEntry(entry), {\n        root,\n        rootMargin,\n        threshold\n      })\n\n      const { current: currentObserver } = observer;\n      if (node) currentObserver.observe(node);\n\n      return () => currentObserver.disconnect();\n    },\n    [node, root, rootMargin, threshold]\n  );\n\n  return [setNode, entry];\n};","import React, { useEffect, useMemo, useState, useRef } from 'react'\nimport { useDispatch } from 'react-redux';\nimport {\n  enterZone,\n  exitZone\n} from '../../../state/actions';\nimport {\n  useIntersect,\n  useWindowSize\n} from '../../../hooks';\n\nconst HomepageWaypoint = ({ zone, children }) => {\n  const dispatch = useDispatch();\n  const windowSize = useWindowSize();\n  const ref = useRef(null);\n  const [threshold, setThreshold] = useState(0.5);\n  const thresholdArray = useMemo(() => [threshold], [threshold]);\n  const [setNode, entry] = useIntersect({\n    threshold: thresholdArray\n  });\n  useEffect(() => {\n    if(ref.current){\n      setNode(ref.current);\n      let elHeight = ref.current.offsetHeight;\n      let viewHeight = windowSize.height;\n      if(elHeight > viewHeight){\n        let newThreshold = viewHeight / (2*elHeight);\n        setThreshold(newThreshold);\n      } else {\n        setThreshold(0.5);\n      }\n    }\n  }, [windowSize, ref]);\n  \n  const [hasEntered, setHasEntered] = useState(false);\n  useEffect(() => {\n    if(!!entry.target){\n      console.log(`ENTRY ${zone}`, entry);\n      if(entry.isIntersecting && !hasEntered){\n        setHasEntered(true);\n        dispatch(enterZone(zone));\n      } else if(!entry.isIntersecting && hasEntered) {\n        setHasEntered(false);\n        dispatch(exitZone(zone));\n      }\n    }\n  }, [zone, dispatch, entry, hasEntered]);\n\n  useEffect( () => {\n    return () => {\n      if(hasEntered) {\n        console.log('UNMOUNT', zone);\n        setHasEntered(false);\n        dispatch(exitZone(zone))\n      }\n    };\n  }, []);\n\n  return (\n    <div ref={ref}>\n      { children }\n    </div>\n  )\n}\n\nexport default HomepageWaypoint\n","import React from 'react'\nimport HomepageWaypoint from './parts/HomepageWaypoint';\nimport './intro.scss'\n\nconst Intro = () => {\n  return (\n    <HomepageWaypoint zone=\"INTRO\">\n      <div className=\"intro-page\" id=\"intro\">\n        <h1 className=\"intro-title\">Chris Uehlinger</h1>\n      </div>\n    </HomepageWaypoint>\n  );\n}\n\nexport default Intro\n","import React from 'react'\nimport HomepageWaypoint from './parts/HomepageWaypoint';\nimport { StaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport './about.scss'\n\nconst About = () => {\n  return (\n    <HomepageWaypoint zone=\"ABOUT\">\n      <div className=\"about-page\" id=\"about\">\n        <div className=\"about-card\">\n          <div className=\"about-image-wrapper\">\n            <StaticQuery\n              query={graphql`\n                query HeadshotQuery {\n                  file(relativePath: { eq: \"images/ChrisHeadshot1.jpg\" }) {\n                    childImageSharp {\n                      fluid(maxWidth: 300) {\n                        ...GatsbyImageSharpFluid\n                      }\n                    }\n                  }\n                }\n              `}\n              render={data => <Img className=\"about-image\" fluid={data.file.childImageSharp.fluid} /> }/>\n            <p className=\"about-image-caption\">Credit: <a href=\"https://www.shealynjaephotography.com/\" target=\"_blank\">Shealyn Jae</a></p>\n          </div>\n          <div className=\"about-blurb\">\n            <p>\n            Hi there! My name is Chris Uehlinger. I'm a... well I do a lot of stuff, including web development, projection/video design for theatre, VR development, voiceover work, 3D graphics and I've taught programming both abroad (at โรงเรียนเซนต์คาเบรียล in Bangkok) and stateside (through talks at charmCityJS and volunteering for Baltimore NodeSchool).\n            </p>\n          </div>\n        </div>\n      </div>\n    </HomepageWaypoint>\n  );\n}\n\nexport default About\n","import React, { useEffect, useRef } from 'react'\nimport './video-clip.scss';\n\nconst VideoClip = ({ clip, muted, isPlaying, onEnded }) => {\n  const { id, src } = clip;\n  const videoEl = useRef(null);\n  useEffect(() => {\n    if(videoEl.current){\n      if(isPlaying) {\n        videoEl.current.play();\n      } else {\n        videoEl.current.pause();\n        videoEl.current.currentTime = 0;\n      }\n    }\n  }, [videoEl, isPlaying]);\n  return (\n    <div className=\"video-clip\">\n      <video\n        className={isPlaying ? 'playing' : 'hidden'}\n        id={id}\n        src={src}\n        ref={videoEl}\n        crossOrigin=\"anonymous\"\n        preload=\"auto\"\n        playsInline\n        onEnded={ onEnded }\n        muted={muted}\n      ></video>\n    </div>\n  );\n}\n\n\nexport default VideoClip","import React, { useEffect, useRef } from 'react'\nimport Img from \"gatsby-image\"\nimport './image-clip.scss';\n\nconst ImageClip = ({ clip, isPlaying, onEnded }) => {\n  const { id, image } = clip;\n  return (\n    <div className=\"image-clip\">\n      <Img\n        className={isPlaying ? 'playing' : 'hidden'}\n        id={id}\n        fluid={image.childImageSharp.fluid}\n      />\n    </div>\n  );\n}\n\n\nexport default ImageClip","import React, { useEffect, useState, useMemo, useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { MDXRenderer } from \"gatsby-plugin-mdx\"\nimport {\n  playVideo,\n  stopVideo,\n  setMute\n} from '../../../state/actions';\nimport { useIntersect } from '../../../hooks';\nimport VideoClip from './VideoClip';\nimport ImageClip from './ImageClip';\nimport './show-card.scss';\n\nconst CLIP_TYPES = {\n  image: ImageClip,\n  video: VideoClip\n}\n\nconst ShowCard = (show) => {\n  const {id, clips, title, company, description, url } = show;\n  const dispatch = useDispatch();\n  const { isMuted } = useSelector(state => state);\n  const [threshold, setThreshold] = useState(0.5);\n  const thresholdArray = useMemo(() => [threshold], [threshold]);\n  const [ref, entry] = useIntersect({\n    threshold: thresholdArray\n  });\n  const [currentClipIndex, setCurrentClipIndex] = useState(0);\n  \n  const [hasEntered, setHasEntered] = useState(false);\n  useEffect(() => {\n    if(!!entry.target){\n      // console.log(`ENTRY ${id}`, entry);\n      if(entry.isIntersecting && !hasEntered){\n        setHasEntered(true);\n        if(clips[currentClipIndex]) {\n          dispatch(playVideo(clips[currentClipIndex]));\n        }\n      } else if(!entry.isIntersecting && hasEntered) {\n        setHasEntered(false);\n        if(clips[currentClipIndex]) {\n          dispatch(stopVideo(clips[currentClipIndex]));\n        }\n      }\n    }\n  }, [show, dispatch, entry, hasEntered]);\n  \n  useEffect(() => {\n    return () => {\n      if(hasEntered) {\n        console.log(`UNMOUNT ${id}`);\n        setHasEntered(false);\n        if(clips[currentClipIndex]) {\n          dispatch(stopVideo(clips[currentClipIndex]));\n        }\n      }\n    }\n  }, []);\n\n  function changeCurrentClipIndex(newClipIndex) {\n    if(entry.isIntersecting){\n      dispatch(stopVideo(clips[currentClipIndex]));\n      dispatch(playVideo(clips[newClipIndex]));\n      setCurrentClipIndex(newClipIndex);\n    }\n  }\n\n  const hasVideos = clips.reduce((acc, clip) => acc || clip.type === 'video', false);\n\n  const ClipComponents = clips.map((clip, i) => {\n    const ClipComponent = CLIP_TYPES[clip.type];\n    return <ClipComponent key={clip.id} clip={clip} muted={isMuted} isPlaying={ currentClipIndex === i && entry.isIntersecting} onEnded={() => changeCurrentClipIndex((currentClipIndex+1) % clips.length) }/>\n  });\n\n  return (\n    <div className=\"show-card\" ref={ref}>\n      {\n        !!url\n        ? <a href={url} target=\"_blank\" className=\"clips-wrapper\">{ ClipComponents }</a>\n        : <div className=\"clips-wrapper\">{ ClipComponents }</div>\n      }\n      <div className=\"show-blurb\">\n        <h3>\n          { \n            !!url\n            ? <a href={url} target=\"_blank\">{title}</a>\n            : title\n          }\n        </h3>\n        <h4>{company}</h4>\n        { !!clips.length &&\n          <div className=\"clip-controls\">\n            { hasVideos &&\n              <button onClick={() => dispatch(setMute(!isMuted)) }>\n                <i className=\"material-icons\">\n                  {isMuted ? 'volume_off' : 'volume_up'}\n                </i>\n              </button>\n            }\n            {\n              clips.length > 1 && (\n                <>\n                  <button onClick={() => changeCurrentClipIndex((currentClipIndex - 1 + clips.length) % clips.length) }>\n                    <i className=\"material-icons\">\n                      fast_rewind\n                    </i>\n                  </button>\n                  <button onClick={() => changeCurrentClipIndex((currentClipIndex + 1) % clips.length) }>\n                    <i className=\"material-icons\">\n                      fast_forward\n                    </i>\n                  </button>\n                  <div>\n                    { `Playing ${currentClipIndex+1} of ${clips.length}`}\n                  </div>\n                </>\n              )\n            }\n          </div>\n        }\n        {\n          description.map((paragraph, i) => <div key={i} dangerouslySetInnerHTML={{ __html: `<p>${paragraph}</p>` }} />)\n        }\n      </div>\n    </div>\n  );\n}\n\n\nexport default ShowCard","import React from 'react'\nimport { StaticQuery, graphql } from \"gatsby\"\nimport HomepageWaypoint from './parts/HomepageWaypoint';\nimport ShowCard from './parts/ShowCard';\nimport './shows.scss'\n\nconst Shows = () => (\n  <HomepageWaypoint zone=\"SHOWS\">\n    <div className=\"shows-page\" id=\"shows\">\n      <h2>Shows</h2>\n      <StaticQuery\n        query={graphql`\n          query ShowQuery {\n            allShowsYaml {\n              nodes {\n                company\n                description\n                id\n                title\n                url\n                clips {\n                  height\n                  id\n                  src\n                  type\n                  width\n                  image {\n                    childImageSharp {\n                      fluid(maxWidth: 300) {\n                        ...GatsbyImageSharpFluid\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        `}\n        render={data => data.allShowsYaml.nodes.map(show => <ShowCard key={show.id} {...show}/>) }/>\n    </div>\n  </HomepageWaypoint>\n);\n\nexport default Shows\n","import React from 'react'\nimport { StaticQuery, graphql } from \"gatsby\"\nimport HomepageWaypoint from './parts/HomepageWaypoint';\nimport ShowCard from './parts/ShowCard';\nimport './demos.scss'\n\nconst Demos = () => (\n  <HomepageWaypoint zone=\"DEMOS\">\n    <div className=\"demos-page\" id=\"demos\">\n      <h2>Demos</h2>\n      <StaticQuery\n        query={graphql`\n          query DemoQuery {\n            allDemosYaml {\n              nodes {\n                company\n                description\n                id\n                title\n                url\n                clips {\n                  height\n                  id\n                  src\n                  type\n                  width\n                  image {\n                    childImageSharp {\n                      fluid(maxWidth: 300) {\n                        ...GatsbyImageSharpFluid\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        `}\n        render={data => data.allDemosYaml.nodes.map(demo => <ShowCard key={demo.id} {...demo}/>) }/>\n    </div>\n  </HomepageWaypoint>\n);\n\nexport default Demos\n","import React from 'react'\nimport { StaticQuery, graphql } from \"gatsby\"\nimport HomepageWaypoint from './parts/HomepageWaypoint';\nimport ShowCard from './parts/ShowCard';\nimport './talks.scss'\n\nconst Talks = () => (\n  <HomepageWaypoint zone=\"TALKS\">\n    <div className=\"talks-page\" id=\"talks\">\n      <h2>Talks</h2>\n      <StaticQuery\n        query={graphql`\n          query TalkQuery {\n            allTalksYaml {\n              nodes {\n                company\n                description\n                id\n                title\n                url\n                clips {\n                  height\n                  id\n                  src\n                  type\n                  width\n                  image {\n                    childImageSharp {\n                      fluid(maxWidth: 300) {\n                        ...GatsbyImageSharpFluid\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        `}\n        render={data => data.allTalksYaml.nodes.map(talk => <ShowCard key={talk.id} {...talk}/>) }/>\n    </div>\n  </HomepageWaypoint>\n);\n\nexport default Talks\n","import React from \"react\"\nimport { useSelector, useDispatch } from 'react-redux'\nimport {useTransition, animated, config} from 'react-spring'\nimport SEO from '../components/seo'\nimport IntroPage from '../components/homepage/Intro'\nimport AboutPage from '../components/homepage/About'\nimport ShowsPage from '../components/homepage/Shows'\nimport DemosPage from '../components/homepage/Demos'\nimport TalksPage from '../components/homepage/Talks'\n\nimport Swoop from '../components/Swoop';\nimport Wrapper from '../components/wrapper'\n\nconst Index = (props) => {\n  console.log('INDEX PROPS', props);\n  const { isLoaded, loadingProgress } = useSelector(state => state);\n  \n  const transitions = useTransition(!isLoaded, null, {\n    from: { opacity: 1 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 },\n    config: config.molasses\n  });\n  return (\n    <Wrapper transitionComponent={Swoop}>\n      <main className={'homepage-body ' + (isLoaded ? 'has-loaded' : 'is-loading')}>\n        { \n          transitions.map(({ item, key, props }) =>\n            item && <animated.div key={key} style={props} className=\"loading-indicator\">{ `Loading ${loadingProgress}%` }</animated.div>\n          )\n        }\n        <SEO title=\"Home\" />\n        <IntroPage />\n\n        <AboutPage />\n\n        <ShowsPage />\n\n        <DemosPage />\n\n        <TalksPage />\n      </main>\n    </Wrapper>\n  );\n}\n\nexport default Index;\n"],"sourceRoot":""}